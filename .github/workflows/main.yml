# This is a basic workflow to help you get started with Actions

name: Pull Request Bot
on:
  pull_request_target:
    types: [opened, reopened]

jobs:
  AutoLabling:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/github-script@v6
        with:
          script: |
            console.log(context)
            const mytitle = 'test'
            const user = 'sharyarN'
            var title = context.payload.pull_request.title;
            const words = title.split(' ');
            const creator = context.payload.sender.login
            const commentBody = 'ðŸ‘‹ Hi ' + creator + '!'
            github.rest.issues.createComment({
              issue_number: context.issue.number,
              owner: context.repo.owner,
              repo: context.repo.repo,
              body: commentBody
            })
            if (words[0]==mytitle) {
              await github.rest.issues.addLabels({
                issue_number: context.issue.number,
                owner: context.repo.owner,
                repo: context.repo.repo,
                labels: ['test']
                requested_reviewers: ['sharyarN']
            })
            } else {
              await github.rest.issues.addLabels({
                issue_number: context.issue.number,
                owner: context.repo.owner,
                repo: context.repo.repo,
                labels: ['UNKNOWN']
            })
            }
